<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PDF Preview</title>
    <style>
      body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#0b0b0f; color:#fff; }
      .bar { display:flex; gap:10px; padding:12px; background:#12121a; border-bottom:1px solid rgba(249,115,22,.2); position:sticky; top:0; }
      input { flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.1); background:rgba(255,255,255,.06); color:#fff; }
      button { padding:10px 14px; border-radius:10px; border:1px solid rgba(249,115,22,.35); background:rgba(249,115,22,.18); color:#ffb07a; cursor:pointer; font-weight:600; }
      button:hover { background:rgba(249,115,22,.28); }
      iframe { width:100%; height: calc(100vh - 58px); border:0; background:#000; }
      .hint { padding:10px 12px; font-size:12px; color:rgba(255,255,255,.65); }
      code { color:#ffb07a; }
    </style>
  </head>
  <body>
    <div class="bar">
      <input id="docId" placeholder="Enter PDF document UUID..." />
      <button id="loadBtn">Load</button>
    </div>
    <div class="hint">Preview route: <code>/documents/&lt;id&gt;</code> (streams <code>application/pdf</code> inline)</div>
    <iframe id="pdfFrame" title="PDF Preview"></iframe>

    <script>
      const input = document.getElementById('docId');
      const frame = document.getElementById('pdfFrame');
      const btn = document.getElementById('loadBtn');

      const params = new URLSearchParams(location.search);
      const initial = params.get('id');
      if (initial) {
        input.value = initial;
        frame.src = `/documents/${encodeURIComponent(initial)}`;
      }

      btn.addEventListener('click', () => {
        const id = input.value.trim();
        if (!id) return;
        frame.src = `/documents/${encodeURIComponent(id)}`;
      });
    </script>
  </body>
</html>
